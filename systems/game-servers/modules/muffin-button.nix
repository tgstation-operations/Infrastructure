{
  config,
  pkgs,
  ...
}: let
  muffinButton = pkgs.writeShellScript "muffin" ''
        ${pkgs.coreutils}/bin/cat <<EOF
        ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣤⡾⠛⠛⠻⢿⣶⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣾⠏⢀⣀⣀⠀⠀⠘⣿⣆⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠘⢿⣷⡟⠙⣿⡇⠀⠀⠸⣿⡄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠉⠁⣰⡟⠁⠀⢸⡆⢻⣷⡀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣴⠞⠉⠀⠀⠀⠘⣧⡈⠻⣷⣤⣀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣤⠶⠛⠉⠀⠀⠀⠀⠀⠀⠀⠈⠓⠶⠤⣍⡛⠿⣷⣄⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣠⡴⠞⠛⠋⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⠀⢈⣿⡷⠶⢶⣶⣤⡀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⢀⣰⡿⢡⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⣀⣤⡶⠛⠉⠀⠀⠀⠀⠙⣿⣆⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⡇⢿⣀⠀⠀⠀⠀⠀⣀⣀⣀⣠⠄⠀⢀⣀⣠⣤⡴⠶⠟⠛⠉⠀⠀⠀⠀⠀⠀⠀⠀⣷⢸⣿⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⢿⣷⣤⣭⣭⣭⣭⣭⣭⣭⣽⠶⠶⠾⠛⠛⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢀⡴⢃⣾⣧⣀⣀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⢀⣤⠴⠟⠋⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⠤⠚⣉⡴⠟⠉⠉⣽⡛⢿⣦⡀⠀
    ⠀⠀⠀⣠⠾⠋⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠖⣚⣩⣥⠶⠛⠉⠀⠀⠀⠀⠈⢳⡌⢿⣷⠀
    ⠀⣠⡾⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣠⣤⣴⠶⠟⠛⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣿⢸⣿⠀
    ⢠⣿⣡⠄⠀⠀⠀⠀⠀⢀⣠⠴⠂⣀⣀⣠⣤⣤⣤⣴⠶⠶⠾⠛⠛⠛⠋⠉⠉⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢠⠏⣸⡟⠀
    ⣾⡇⣿⠀⠀⠀⠀⢀⡔⢉⣴⠞⠛⠋⠉⠉⠁⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠠⠞⢁⡴⠛⠻⣷
    ⣿⣇⣿⡀⠀⠀⠀⢸⣳⣿⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⣀⣀⣤⣬⠶⠛⠉⠀⠀⣲⢹
    ⠸⣿⣞⢧⣀⣀⡀⠉⣸⣿⡀⠀⠀⠀⠀⠀⣀⡒⠶⢤⣄⡀⠀⠀⠀⠀⠀⠀⣀⣠⠴⠚⠀⣀⣠⣤⠶⠞⠛⠉⠉⠀⢀⢀⢀⣀⣀⣚⣵⠟
    ⠀⠈⠻⢷⣶⣶⡶⠞⠋⠻⢷⣶⣤⣴⠶⠛⠛⠻⢷⣦⣬⣍⣛⣛⣛⣛⣛⣩⣭⣴⠶⠾⢿⣿⣥⣤⣤⣤⡶⠶⠛⠛⠛⠛⠛⠛⢉⣩⠀⠀
    ⠀⠀⠀⠀⢿⣿⣶⣤⣴⠶⣶⣤⣾⣶⣦⣠⡶⣶⣤⣀⣽⣿⣯⣙⣛⣭⣍⠉⢀⣤⣶⣤⡀⢀⣤⣶⣄⢀⣠⣶⣄⣠⢾⣶⣴⢶⣿⡏⠀⠀
    ⠀⠀⠀⠀⠈⢿⣏⠉⠀⣤⠈⠉⢻⡇⠉⠉⣿⡀⠉⠉⣿⡄⠉⠛⢩⡍⠛⠛⠋⢸⡎⠙⠛⠋⣸⠎⠛⠛⣵⠎⠛⠁⣾⠁⠀⣾⡟⠀⠀⠀
    ⠀⠀⠀⠀⠀⠘⣿⡆⠀⢹⡇⠀⠘⣷⠀⠀⢹⡇⠀⠀⢸⡇⠀⠀⢸⡇⠀⠀⠀⢸⠇⠀⠀⠀⣿⠀⠀⠀⣿⠀⠀⢰⡏⠀⣼⡿⠁⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⢹⣿⡀⠈⣷⠀⠀⣿⡄⠀⢸⡇⠀⠀⢸⡇⠀⠀⢸⡇⠀⠀⠀⣿⠀⠀⠀⢰⡇⠀⠀⢸⡇⠀⠀⣾⠀⣰⣿⠃⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⣿⣇⠀⢻⡇⠀⢸⡇⠀⢸⣧⠀⠀⢸⡇⠀⠀⢸⡇⠀⠀⠀⣿⠀⠀⠀⣸⠃⠀⠀⣼⠃⠀⢰⡏⢀⣿⡏⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠸⣿⡄⠘⣷⠀⠘⣷⠀⠀⣿⠀⠀⢸⡇⠀⠀⢸⠇⠀⠀⠀⣿⠀⠀⠀⣿⠀⠀⢀⣿⠀⠀⣾⠁⣼⡿⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⢻⣧⠀⢻⡆⠀⣿⡀⠀⣿⠀⠀⢸⡇⠀⠀⢸⠀⠀⠀⢀⡏⠀⠀⢰⡏⠀⠀⢸⡇⠀⢰⡏⢠⣿⠃⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠘⣿⡆⠘⣷⠀⢸⡇⠀⢿⡄⠀⠸⣧⠀⠀⣿⠀⠀⠀⢸⡇⠀⠀⣸⠇⠀⠀⣼⠃⠀⣾⠀⣾⡟⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⢻⣷⠀⢻⡆⠘⣷⠀⢸⡇⠀⠀⣿⠀⠀⣿⠀⠀⠀⢸⡇⠀⠀⣿⠀⠀⢀⡿⠀⢰⡏⣸⣿⠃⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣿⡆⠘⣷⠀⣿⡀⢸⡇⠀⠀⣿⠀⠀⣿⠀⠀⠀⢸⡇⠀⢰⡏⠀⠀⢸⡇⠀⣾⢀⣿⡟⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⢹⣿⠀⢻⡆⢸⡇⠘⣷⠀⠀⣿⠀⠀⣿⠀⠀⠀⣼⠁⠀⣸⠃⠀⠀⣼⠁⢰⡏⣸⣿⠃⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠈⣿⡆⠘⠗⠘⡷⠀⣿⠀⠀⣿⠀⠀⠿⠀⠀⠀⣿⠀⠀⡿⠀⠀⢀⡿⠀⡾⢀⣿⡿⠀⠀⠀⠀⠀⠀⠀⠀⠀
    ⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠀⠻⡿⠶⢶⣶⣶⣶⣷⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⣶⠶⠶⠶⠶⠾⠿⠃⠀⠀⠀⠀⠀⠀⠀⠀⠀
      EOF
  '';
in {
  environment.shellAliases = {
    muffin = "${muffinButton}";
  };
}
